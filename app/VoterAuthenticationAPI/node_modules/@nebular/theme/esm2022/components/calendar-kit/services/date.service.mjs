/*
 * @license
 * Copyright Akveo. All Rights Reserved.
 * Licensed under the MIT License. See License.txt in the project root for license information.
 */
export class NbDateService {
    constructor() {
        this.DAYS_IN_WEEK = 7;
        /**
         * Number of hours in AM/PM day periods.
         **/
        this.HOURS_IN_DAY_PERIOD = 12;
    }
    setLocale(locale) {
        this.locale = locale;
    }
    /**
     * Checks if the date is between the start date and the end date.
     * */
    isBetween(date, start, end) {
        return this.compareDates(date, start) > 0 && this.compareDates(date, end) < 0;
    }
    ;
    /**
     * Checks is two dates have the same day.
     * */
    isSameDaySafe(date1, date2) {
        return date1 && date2 && this.isSameDay(date1, date2);
    }
    ;
    /**
     * Checks is two dates have the same month.
     * */
    isSameMonthSafe(date1, date2) {
        return date1 && date2 && this.isSameMonth(date1, date2);
    }
    /**
     * Checks is two dates have the same year.
     * */
    isSameYearSafe(date1, date2) {
        return date1 && date2 && this.isSameYear(date1, date2);
    }
    isSameHourAndMinute(date1, date2) {
        return this.isSameHour(date1, date2) && this.isSameMinute(date1, date2);
    }
    isSameHour(date1, date2) {
        return this.getHours(date1) === this.getHours(date2);
    }
    isSameMinute(date1, date2) {
        return this.getMinutes(date1) === this.getMinutes(date2);
    }
    getTwentyFourHoursFormat() {
        return 'HH:mm';
    }
    getTwentyFourHoursFormatWithSeconds() {
        return 'HH:mm:ss';
    }
    getTwelveHoursFormatWithSeconds() {
        return 'hh:mm:ss a';
    }
    getDayPeriod(date) {
        const isFirstDayPeriod = this.getHours(date) < this.HOURS_IN_DAY_PERIOD;
        if (isFirstDayPeriod) {
            return "AM" /* NbDayPeriod.AM */;
        }
        else {
            return "PM" /* NbDayPeriod.PM */;
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZS5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2ZyYW1ld29yay90aGVtZS9jb21wb25lbnRzL2NhbGVuZGFyLWtpdC9zZXJ2aWNlcy9kYXRlLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQVNILE1BQU0sT0FBZ0IsYUFBYTtJQUFuQztRQUNXLGlCQUFZLEdBQVcsQ0FBQyxDQUFDO1FBRWxDOztZQUVJO1FBQ0ssd0JBQW1CLEdBQUcsRUFBRSxDQUFDO0lBa1JwQyxDQUFDO0lBOVFDLFNBQVMsQ0FBQyxNQUFXO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7SUFFRDs7U0FFSztJQUNMLFNBQVMsQ0FBQyxJQUFPLEVBQUUsS0FBUSxFQUFFLEdBQU07UUFDakMsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2hGLENBQUM7SUFBQSxDQUFDO0lBRUY7O1NBRUs7SUFDTCxhQUFhLENBQUMsS0FBUSxFQUFFLEtBQVE7UUFDOUIsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFBQSxDQUFDO0lBRUY7O1NBRUs7SUFDTCxlQUFlLENBQUMsS0FBUSxFQUFFLEtBQVE7UUFDaEMsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzFELENBQUM7SUFFRDs7U0FFSztJQUNMLGNBQWMsQ0FBQyxLQUFRLEVBQUUsS0FBUTtRQUMvQixPQUFPLEtBQUssSUFBSSxLQUFLLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDekQsQ0FBQztJQWdORCxtQkFBbUIsQ0FBQyxLQUFRLEVBQUUsS0FBUTtRQUNwQyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzFFLENBQUM7SUFFRCxVQUFVLENBQUMsS0FBUSxFQUFFLEtBQVE7UUFDM0IsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUVELFlBQVksQ0FBQyxLQUFRLEVBQUUsS0FBUTtRQUM3QixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMzRCxDQUFDO0lBRUQsd0JBQXdCO1FBQ3RCLE9BQU8sT0FBTyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxtQ0FBbUM7UUFDakMsT0FBTyxVQUFVLENBQUE7SUFDbkIsQ0FBQztJQUVELCtCQUErQjtRQUM3QixPQUFPLFlBQVksQ0FBQztJQUN0QixDQUFDO0lBRUQsWUFBWSxDQUFDLElBQU87UUFDbEIsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztRQUN4RSxJQUFJLGdCQUFnQixFQUFFLENBQUM7WUFDckIsaUNBQXNCO1FBQ3hCLENBQUM7YUFBTSxDQUFDO1lBQ04saUNBQXNCO1FBQ3hCLENBQUM7SUFDSCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBBa3Zlby4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi9cblxuaW1wb3J0IHsgVHJhbnNsYXRpb25XaWR0aCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5cbmV4cG9ydCBjb25zdCBlbnVtIE5iRGF5UGVyaW9kIHtcbiAgQU0gPSAnQU0nLCAvLyBiZWZvcmUgbWlkZGF5LCAwIC0gMTEgaW4gMjQtaG91ciBmb3JtYXQuXG4gIFBNID0gJ1BNJywgLy8gYWZ0ZXIgbWlkZGF5LCAxMiAtIDIzIGluIDI0LWhvdXIgZm9ybWF0LlxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTmJEYXRlU2VydmljZTxEPiB7XG4gIHJlYWRvbmx5IERBWVNfSU5fV0VFSzogbnVtYmVyID0gNztcblxuICAvKipcbiAgICogTnVtYmVyIG9mIGhvdXJzIGluIEFNL1BNIGRheSBwZXJpb2RzLlxuICAgKiovXG4gIHJlYWRvbmx5IEhPVVJTX0lOX0RBWV9QRVJJT0QgPSAxMjtcblxuICBwcm90ZWN0ZWQgbG9jYWxlOiBzdHJpbmc7XG5cbiAgc2V0TG9jYWxlKGxvY2FsZTogYW55KSB7XG4gICAgdGhpcy5sb2NhbGUgPSBsb2NhbGU7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBkYXRlIGlzIGJldHdlZW4gdGhlIHN0YXJ0IGRhdGUgYW5kIHRoZSBlbmQgZGF0ZS5cbiAgICogKi9cbiAgaXNCZXR3ZWVuKGRhdGU6IEQsIHN0YXJ0OiBELCBlbmQ6IEQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jb21wYXJlRGF0ZXMoZGF0ZSwgc3RhcnQpID4gMCAmJiB0aGlzLmNvbXBhcmVEYXRlcyhkYXRlLCBlbmQpIDwgMDtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlzIHR3byBkYXRlcyBoYXZlIHRoZSBzYW1lIGRheS5cbiAgICogKi9cbiAgaXNTYW1lRGF5U2FmZShkYXRlMTogRCwgZGF0ZTI6IEQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZGF0ZTEgJiYgZGF0ZTIgJiYgdGhpcy5pc1NhbWVEYXkoZGF0ZTEsIGRhdGUyKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlzIHR3byBkYXRlcyBoYXZlIHRoZSBzYW1lIG1vbnRoLlxuICAgKiAqL1xuICBpc1NhbWVNb250aFNhZmUoZGF0ZTE6IEQsIGRhdGUyOiBEKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGRhdGUxICYmIGRhdGUyICYmIHRoaXMuaXNTYW1lTW9udGgoZGF0ZTEsIGRhdGUyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaXMgdHdvIGRhdGVzIGhhdmUgdGhlIHNhbWUgeWVhci5cbiAgICogKi9cbiAgaXNTYW1lWWVhclNhZmUoZGF0ZTE6IEQsIGRhdGUyOiBEKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGRhdGUxICYmIGRhdGUyICYmIHRoaXMuaXNTYW1lWWVhcihkYXRlMSwgZGF0ZTIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZGF0ZSB3aXRoIHNlbGVjdGVkIGhvdXJcbiAgICogKi9cbiAgYWJzdHJhY3Qgc2V0SG91cnMoZGF0ZTogRCwgaG91cjogbnVtYmVyKTogRDtcblxuICAvKipcbiAgICogUmV0dXJucyBkYXRlIHdpdGggc2VsZWN0ZWQgbWludXRlXG4gICAqICovXG4gIGFic3RyYWN0IHNldE1pbnV0ZXMoZGF0ZTogRCwgbWludXRlOiBudW1iZXIpOiBEO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGRhdGUgd2l0aCBzZWxlY3RlZCBzZWNvbmRcbiAgICogKi9cbiAgYWJzdHJhY3Qgc2V0U2Vjb25kcyhkYXRlOiBELCBzZWNvbmQ6IG51bWJlcik6IEQ7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZGF0ZSB3aXRoIHNlbGVjdGVkIG1pbGxpc2Vjb25kc1xuICAgKiAqL1xuICBhYnN0cmFjdCBzZXRNaWxsaXNlY29uZHMoZGF0ZTogRCwgc2Vjb25kOiBudW1iZXIpOiBEO1xuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIGRhdGUgc3RyaW5nIGlzIHZhbGlkIGRhdGUgc3RyaW5nIGFjY29yZGluZyB0byB0aGUgcHJvdmlkZWQgZm9ybWF0LlxuICAgKiAqL1xuICBhYnN0cmFjdCBpc1ZhbGlkRGF0ZVN0cmluZyhkYXRlOiBzdHJpbmcsIGZvcm1hdDogc3RyaW5nKTogYm9vbGVhbjtcblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRpbWUgc3RyaW5nIGlzIHZhbGlkIHRpbWUgc3RyaW5nIGFjY29yZGluZyB0byB0aGUgcHJvdmlkZWQgZm9ybWF0LlxuICAgKiAqL1xuICBhYnN0cmFjdCBpc1ZhbGlkVGltZVN0cmluZyhkYXRlOiBzdHJpbmcsIGZvcm1hdDogc3RyaW5nKTogYm9vbGVhbjtcblxuICAvKipcbiAgICogUmV0dXJucyB0b2RheSBkYXRlLlxuICAgKiAqL1xuICBhYnN0cmFjdCB0b2RheSgpOiBEO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB0aW1lIGZvcm1hdCBiYXNlZCBvbiBsb2NhbGVcbiAgICogKi9cbiAgYWJzdHJhY3QgZ2V0TG9jYWxlVGltZUZvcm1hdCgpOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGRhdGUgb2YgdGhlIG1vbnRoIGNvbXBvbmVudCBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAgICovXG4gIGFic3RyYWN0IGdldERhdGUoZGF0ZTogRCk6IG51bWJlcjtcblxuICAvKipcbiAgICogR2V0cyB0aGUgaG91ciBjb21wb25lbnQgb2YgdGhlIGdpdmVuIGRhdGUuXG4gICAqL1xuICBhYnN0cmFjdCBnZXRIb3VycyhkYXRlOiBEKTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBtaW51dGUgY29tcG9uZW50IG9mIHRoZSBnaXZlbiBkYXRlLlxuICAgKi9cbiAgYWJzdHJhY3QgZ2V0TWludXRlcyhkYXRlOiBEKTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzZWNvbmQgY29tcG9uZW50IG9mIHRoZSBnaXZlbiBkYXRlLlxuICAgKi9cbiAgYWJzdHJhY3QgZ2V0U2Vjb25kcyhkYXRlOiBEKTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzZWNvbmQgY29tcG9uZW50IG9mIHRoZSBnaXZlbiBkYXRlLlxuICAgKi9cbiAgYWJzdHJhY3QgZ2V0TWlsbGlzZWNvbmRzKGRhdGU6IEQpOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG1vbnRoIGNvbXBvbmVudCBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAgICogKi9cbiAgYWJzdHJhY3QgZ2V0TW9udGgoZGF0ZTogRCk6IG51bWJlcjtcblxuICAvKipcbiAgICogR2V0cyB0aGUgeWVhciBjb21wb25lbnQgb2YgdGhlIGdpdmVuIGRhdGUuXG4gICAqICovXG4gIGFic3RyYWN0IGdldFllYXIoZGF0ZTogRCk6IG51bWJlcjtcblxuICAvKipcbiAgICogUmV0dXJucyBkYXkgb2YgdGhlIHdlZWsgb2YgdGhlIGdpdmVuIGRhdGUuXG4gICAqL1xuICBhYnN0cmFjdCBnZXREYXlPZldlZWsoZGF0ZTogRCk6IG51bWJlcjtcblxuICAvKipcbiAgICogUmV0dXJucyBmaXJzdCBkYXkgb2YgdGhlIHdlZWssIGl0IGNhbiBiZSAxIGlmIHdlZWsgc3RhcnRzIGZyb20gbW9uZGF5XG4gICAqIGFuZCAwIGlmIGZyb20gc3VuZGF5IGFuZCBzbyBvbi5cbiAgICogKi9cbiAgYWJzdHJhY3QgZ2V0Rmlyc3REYXlPZldlZWsoKTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGxvY2FsaXplZCBtb250aCBuYW1lIGJ5IGRhdGUgYW5kIHN0eWxlLlxuICAgKiAqL1xuICBhYnN0cmFjdCBnZXRNb250aE5hbWUoZGF0ZTogRCwgc3R5bGU/OiBUcmFuc2xhdGlvbldpZHRoKTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGxvY2FsaXplZCBtb250aCBuYW1lIGJ5IG1vbnRoIGluZGV4IGFuZCBzdHlsZS5cbiAgICogKi9cbiAgYWJzdHJhY3QgZ2V0TW9udGhOYW1lQnlJbmRleChtb250aDogbnVtYmVyLCBzdHlsZT86IFRyYW5zbGF0aW9uV2lkdGgpOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgbG9jYWxpemVkIGRheXMgbmFtZXMuXG4gICAqICovXG4gIGFic3RyYWN0IGdldERheU9mV2Vla05hbWVzKHN0eWxlPzogVHJhbnNsYXRpb25XaWR0aCk6IHN0cmluZ1tdO1xuXG4gIC8qKlxuICAgKiBQYXJzZXMgdGhlIGRhdGUgc3RyaW5nIGFjY29yZGluZyB0byB0aGUgcGFzc2VkIGZvcm1hdC5cbiAgICogKi9cbiAgYWJzdHJhY3QgcGFyc2UoZGF0ZTogc3RyaW5nLCBmb3JtYXQ6IHN0cmluZyk6IEQ7XG5cbiAgLyoqXG4gICAqIFRyYW5zZm9ybXMgdGhlIGRhdGUgdG8gdGhlIHN0cmluZyBhY2NvcmRpbmcgdG8gdGhlIHBhc3NlZCBmb3JtYXQuXG4gICAqICovXG4gIGFic3RyYWN0IGZvcm1hdChkYXRlOiBELCBmb3JtYXQ6IHN0cmluZyk6IHN0cmluZztcblxuICAvKipcbiAgICogQ3JlYXRlcyBuZXcgZGF0ZSBmcm9tIHllYXIsIG1vbnRoIGFuZCBkYXRlLlxuICAgKiAqL1xuICBhYnN0cmFjdCBjcmVhdGVEYXRlKHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlciwgZGF0ZTogbnVtYmVyKTogRDtcblxuICAvKipcbiAgICogQ2hlY2tzIGlzIHR3byBkYXRlcyBoYXZlIHRoZSBzYW1lIHllYXIuXG4gICAqICovXG4gIGFic3RyYWN0IGlzU2FtZVllYXIoZGF0ZTE6IEQsIGRhdGUyOiBEKTogYm9vbGVhbjtcblxuICAvKipcbiAgICogQ2hlY2tzIGlzIHR3byBkYXRlcyBoYXZlIHRoZSBzYW1lIG1vbnRoLlxuICAgKiAqL1xuICBhYnN0cmFjdCBpc1NhbWVNb250aChkYXRlMTogRCwgZGF0ZTI6IEQpOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaXMgdHdvIGRhdGVzIGhhdmUgdGhlIHNhbWUgZGF5LlxuICAgKiAqL1xuICBhYnN0cmFjdCBpc1NhbWVEYXkoZGF0ZTE6IEQsIGRhdGUyOiBEKTogYm9vbGVhbjtcblxuICAvKipcbiAgICogQ29tcGFyZXMgdHdvIGRhdGVzLlxuICAgKiBSZXR1cm5zIDAgaWYgZGF0ZXMgYXJlIHRoZSBzYW1lLlxuICAgKiBSZXR1cm5zIDEgaWYgdGhlIGZpcnN0IGRhdGUgaXMgZ3JlYXRlciB0aGFuIHRoZSBzZWNvbmQuXG4gICAqIFJldHVybnMgLTEgaWYgdGhlIHNlY29uZCBkYXRlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgZmlyc3QuXG4gICAqICovXG4gIGFic3RyYWN0IGNvbXBhcmVEYXRlcyhkYXRlMTogRCwgZGF0ZTI6IEQpOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIENsb25lcyBwYXNzZWQgZGF0ZS5cbiAgICogKi9cbiAgYWJzdHJhY3QgY2xvbmUoZGF0ZTogRCk6IEQ7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGhlIHNhbWUgZGF0ZSBidXQgd2l0aCBkYXkgZXF1YWxzIHRvIDEuXG4gICAqICovXG4gIGFic3RyYWN0IGdldE1vbnRoU3RhcnQoZGF0ZTogRCk6IEQ7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGhlIHNhbWUgZGF0ZSBidXQgd2l0aCBkYXkgZXF1YWxzIHRvIHRoZSBsYXN0IGRheSBpbiB0aGlzIG1vbnRoLlxuICAgKiAqL1xuICBhYnN0cmFjdCBnZXRNb250aEVuZChkYXRlOiBEKTogRDtcblxuICAvKipcbiAgICogQ3JlYXRlcyB0aGUgc2FtZSBkYXRlIGJ1dCB3aXRoIG1vbnRoIGVxdWFscyB0byAwIGFuZCBkYXkgZXF1YWxzIHRvIDEuXG4gICAqICovXG4gIGFic3RyYWN0IGdldFllYXJTdGFydChkYXRlOiBEKTogRDtcblxuICAvKipcbiAgICogQ3JlYXRlcyB0aGUgc2FtZSBkYXRlIGJ1dCB3aXRoIG1vbnRoIGVxdWFscyB0byAxMSBhbmQgZGF5IGVxdWFscyB0byAzMS5cbiAgICogKi9cbiAgYWJzdHJhY3QgZ2V0WWVhckVuZChkYXRlOiBEKTogRDtcblxuICAvKipcbiAgICogUmV0dXJucyBudW1iZXIgb2YgZGF5cyBpbiB0aGUgZGF0ZS5cbiAgICogKi9cbiAgYWJzdHJhY3QgZ2V0TnVtYmVyT2ZEYXlzSW5Nb250aChkYXRlOiBEKTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGRhdGUgd2l0aCBhZGRlZCBudW1iZXIgb2YgZGF5cy5cbiAgICogKi9cbiAgYWJzdHJhY3QgYWRkRGF5KGRhdGU6IEQsIGRheXM6IG51bWJlcik6IEQ7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZGF0ZSB3aXRoIGFkZGVkIG51bWJlciBvZiBtb250aHMuXG4gICAqICovXG4gIGFic3RyYWN0IGFkZE1vbnRoKGRhdGU6IEQsIG1vbnRoczogbnVtYmVyKTogRDtcblxuICAvKipcbiAgICogUmV0dXJucyBkYXRlIHdpdGggYWRkZWQgbnVtYmVyIG9mIGhvdXJzLlxuICAgKiAqL1xuICBhYnN0cmFjdCBhZGRIb3VycyhkYXRlOiBELCBob3VyOiBudW1iZXIpOiBEO1xuXG4gICAvKipcbiAgICogUmV0dXJucyBkYXRlIHdpdGggYWRkZWQgbnVtYmVyIG9mIG1pbnV0ZXMuXG4gICAqICovXG4gIGFic3RyYWN0IGFkZE1pbnV0ZXMoZGF0ZTogRCwgbWludXRlOiBudW1iZXIpOiBEO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGRhdGUgd2l0aCBhZGRlZCBudW1iZXIgb2YgeWVhcnMuXG4gICAqICovXG4gIGFic3RyYWN0IGFkZFllYXIoZGF0ZTogRCwgeWVhcnM6IG51bWJlcik6IEQ7XG5cbiAgYWJzdHJhY3QgZ2V0SWQoKTogc3RyaW5nO1xuXG4gIGFic3RyYWN0IGdldFdlZWtOdW1iZXIoZGF0ZTogRCk6IG51bWJlcjtcblxuICBhYnN0cmFjdCBnZXREYXRlRm9ybWF0KCk6IHN0cmluZztcblxuICBhYnN0cmFjdCBnZXRUd2VsdmVIb3Vyc0Zvcm1hdCgpOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZGF0ZSB3aXRoIGFkZGVkIG51bWJlciBvZiB5ZWFycy5cbiAgICogKi9cbiAgYWJzdHJhY3QgdmFsdWVPZihkYXRlOiBEKTogbnVtYmVyO1xuXG4gIGlzU2FtZUhvdXJBbmRNaW51dGUoZGF0ZTE6IEQsIGRhdGUyOiBEKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaXNTYW1lSG91cihkYXRlMSwgZGF0ZTIpICYmIHRoaXMuaXNTYW1lTWludXRlKGRhdGUxLCBkYXRlMik7XG4gIH1cblxuICBpc1NhbWVIb3VyKGRhdGUxOiBELCBkYXRlMjogRCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmdldEhvdXJzKGRhdGUxKSA9PT0gdGhpcy5nZXRIb3VycyhkYXRlMik7XG4gIH1cblxuICBpc1NhbWVNaW51dGUoZGF0ZTE6IEQsIGRhdGUyOiBEKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0TWludXRlcyhkYXRlMSkgPT09IHRoaXMuZ2V0TWludXRlcyhkYXRlMik7XG4gIH1cblxuICBnZXRUd2VudHlGb3VySG91cnNGb3JtYXQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ0hIOm1tJztcbiAgfVxuXG4gIGdldFR3ZW50eUZvdXJIb3Vyc0Zvcm1hdFdpdGhTZWNvbmRzKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICdISDptbTpzcydcbiAgfVxuXG4gIGdldFR3ZWx2ZUhvdXJzRm9ybWF0V2l0aFNlY29uZHMoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ2hoOm1tOnNzIGEnO1xuICB9XG5cbiAgZ2V0RGF5UGVyaW9kKGRhdGU6IEQpOiBOYkRheVBlcmlvZCB7XG4gICAgY29uc3QgaXNGaXJzdERheVBlcmlvZCA9IHRoaXMuZ2V0SG91cnMoZGF0ZSkgPCB0aGlzLkhPVVJTX0lOX0RBWV9QRVJJT0Q7XG4gICAgaWYgKGlzRmlyc3REYXlQZXJpb2QpIHtcbiAgICAgIHJldHVybiBOYkRheVBlcmlvZC5BTTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIE5iRGF5UGVyaW9kLlBNO1xuICAgIH1cbiAgfVxufVxuIl19